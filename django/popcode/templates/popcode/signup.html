{% load static %}
{% include './components/alert.html' %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
        {% block title %}
        Signup
        {% endblock %}
    </title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" />
    <link href="{% static 'popcode/css/signup&login_style.css' %}" rel="stylesheet" />
    <link href="{% static 'https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap' %}" rel="stylesheet" />
</head>
<body>
    <div class="main-container">
        <div class="image" style="width: 100px;">
            <img class="popcorn" src="{% static 'popcode/images/chris-lee-70l1tdai6rm-unsplash-1.png' %}" alt="" />
        </div>

        <div class="frame">
            <div class="group">
                <a href="{% url 'homepage' %}">
                    <img class="popcode" src="{% static 'popcode/images/popcode.svg' %}" alt="" />
                </a>
                <div class="frame-a">
                    <span class="message">Get Started Now</span>
                </div>

                <form id="signupForm" action="{% url 'apiSignup' %}" method="post">
                    {% csrf_token %}
                    <div class="frame-b">
                        <div class="frame-c">
                            <span class="name">Username</span>
                        </div>
                        <div class="frame-d">
                            <input class="frame-input" id="username" name="username" />
                            <div class="frame-e">
                                <span class="enter-your-name">Enter your username</span>
                            </div>
                        </div>
                    </div>
                    <div class="frame-f">
                        <div class="frame-10">
                            <span class="name-11">Email address</span>
                        </div>
                        <div class="frame-12">
                            <input class="frame-input-13" id="email" name="email" />
                            <div class="frame-14">
                                <span class="name-15">Enter your email</span>
                            </div>
                        </div>
                    </div>
                    <div class="frame-16">
                        <div class="frame-17">
                            <span class="name-18">Password</span>
                        </div>
                        <div class="frame-19">
                            <input class="frame-input-1a" id="password" name="password" type="password" />
                            <div class="frame-1b">
                                <span class="name-1c">Enter your password</span>
                            </div>
                        </div>
                    </div>
                    <div class="group-1d">
                        <div class="terms-policy">
                            <span class="agree-terms-policy">I agree to the</span>
                            <span class="agree-terms-policy-1e" id="policy">personal information collecting</span>
                        </div>
                        <input type="checkbox" id="checkbox" />
                        <label for="checkbox" class="agree-terms-policy-1e"></label>
                    </div>
                    <div class="B">
                        <button class="frame-1f" type="submit">
                            <div class="frame-20">
                                <span class="login">Sign up</span>
                            </div>
                        </button>
                    </div>
                </form>

                <div class="group-26">
                    <div class="sign">
                        <span class="account">Have an account?</span>
                        <a href="{% url 'login' %}"><span class="sign-in-27">Sign In</span></a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        document.getElementById('policy').addEventListener('click', function () {
            alert('<Popcord Terms of Use> \n 1. Collection and Use of Personal Information\nWe collect and use your personal information for data analysis and marketing purposes.\n2. Retention Period\nYour personal information will be retained for one year after you unsubscribe.\n This concise version includes the key points about data collection, use, and retention.');
        });

        document.getElementById('signupForm').addEventListener('submit', function (event) {
            const usernameValue = document.getElementById('username').value;
            const emailValue = document.getElementById('email').value;
            const passwordValue = document.getElementById('password').value;
            const checkbox = document.getElementById('checkbox').checked;

            if (usernameValue === "") {
                event.preventDefault();
                alert("Please enter your username.");
            } else if (emailValue === "") {
                event.preventDefault();
                alert("Please enter your email address.");
            } else if (passwordValue === "") {
                event.preventDefault();
                alert("Please enter your password.");
            } else if (!checkbox) {
                event.preventDefault();
                alert("Please click 'personal information collecting' to read and agree to the privacy notice.");
            }
        });
    </script>
</body>
</html>
